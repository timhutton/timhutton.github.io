---
layout: post
title: Post
---

<html><head><meta charset="utf-8"><title>Google+ post</title><style>body {font: 11pt Roboto, Arial, sans-serif; max-width: 640px; margin: 24px;}.author-photo {border-radius: 50%; margin-right: 10px; width: 40px;}.author {font-weight: 500;}.main-content {margin: 15px 0 15px;}.post-title {font-weight: bold;}.location {display: block; margin-top: 15px;}.location img {float: left; margin-right: 5px; width: 20px;}.media-link {display: inline-block; max-width: 100%; vertical-align: top;}.media-link p {margin-top: 5px; max-height: 4em; overflow: scroll;}.media {max-height: 100vh; max-width: 100%;}.video-placeholder {background: black; display: flex; height: 300px; max-width: 100%; width: 640px;}.play-icon {border-bottom: 30px solid transparent; border-left: 50px solid white; border-top: 30px solid transparent; color: white; margin: auto;}.album {max-height: 800px; overflow: scroll; width: calc(100vw - 48px);}.album .media-link {margin-right: 5px; max-width: 250px;}.album .media {max-height: 250px;}.link-embed {border-top: 1px solid lightgrey; display: block; margin-top: 20px;}.link-embed img {max-width: 100%;}.inline-link-embed {display: block;}.inline-link-embed img {vertical-align: middle;}.link-title {display: inline-block; font-size: medium; font-weight: 300; padding-left: 1em;}.reshare-attribution {display: block; font-weight: bold; margin-bottom: 10px;}.poll-image {margin-bottom: 5px; max-height: 300px; max-width: 500px;}.poll-choice {align-items: center; display: flex; margin-bottom: 5px; max-width: 500px;}.poll-choice-percentage {background-color: lightblue; height: 100%; left: 0; position: absolute; z-index: -1;}.poll-choice-selected {margin-right: 5px;}.poll-choice-results {border: 1px solid lightgray; border-radius: 5px; display: flex; line-height: 40px; overflow: hidden; padding: 0 8px; position: relative;}.poll-choice-results, .poll-choice-description {flex-grow: 1; margin-right: 10px;}.poll-choice-image {width: 100%;}.poll-choice-image, .poll-choice-image img {max-height: 40px; max-width: 100px;}.poll-choice-votes {max-height: 100px; overflow: auto;}.plus-entity-embed {color: black; display: block; text-decoration: none;}.plus-entity-embed-cover-photo {max-height: 300px; max-width: 100%;}.plus-entity-embed-info {padding: 0 1em 1em;}.plus-entity-embed-info h2 {font-weight: 500; margin: 10px 0;}.plus-entity-embed-info p {font-size: small; margin: 0;}.collection-owner-avatar {border-radius: 50%; border: 2px solid white; height: 40px; margin-top: -22px;}.visibility {padding: 1em 0; border-top: 1px solid grey;}.post-activity {padding: 1em 0; border-top: 1px solid grey;}.comments {border-top: 1px solid gray; padding-top: 1em;}.comment + .comment {margin-top: 1em;}.comment .media-link, .comment .inline-link-embed {margin-top: 5px;}</style></head><body><div style="margin-bottom:1em;"><div style="display:flex; align-items:center"><img class="author-photo" src="https://lh4.googleusercontent.com/-epo4ZZKNqEw/AAAAAAAAAAI/AAAAAAAAVSU/qu3LpcHEnoQ/s64-c/photo.jpg" alt="Tim Hutton"><a href="https://plus.google.com/+TimHutton" target="_blank" class="author">Tim Hutton</a> - <a target="_blank" href="https://plus.google.com/+TimHutton/posts/LHZyDNp9qmY">2014-04-25 20:24:49+0000</a><span> - Updated: 2014-04-25 20:24:49+0000</span></div><div class="main-content"></div><div><a target="_blank" href="https://plus.google.com/+FelixWoitzel/posts/bpuub8XtAY4" class="reshare-attribution">Originally shared by Felix Woitzel</a>In case anyone missed it, my entry &quot;DragonDrop&quot; has won the  <a rel="nofollow" class="ot-hashtag bidi_isolate" href="https://plus.google.com/s/%23js1k/posts" >#js1k</a>  JavaScript code golfing competition 2014!<br><br>This year&#39;s topic was &quot;Here Be Dragons&quot;. The theme is not mandatory anyway, but i must have nailed it twice and a third time just for the lulz.<br>recommended listen: <a rel="nofollow" target="_blank" href="http://youtu.be/AyORieDhpkg?t=15m44s" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://youtu.be/AyORieDhpkg?t=15m44s</a><br><br>&quot;Glowing small hours<br>Fade into black with you<br>In echoing chambers&quot;<br><br>The winning entry is an interactive Dragon curve that can be edited by Drag&#39;n&#39;drop of four control points, all in just below 1024 characters of JavaScript for classic HTML5. That means, it also runs in the Internet Explorer. I endorse you to try it on your tablet PC too - touch events are supported just as well.<br><br>Here&#39;s the winning entry in action: <a rel="nofollow" target="_blank" href="http://js1k.com/2014-dragons/demo/1903" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://js1k.com/2014-dragons/demo/1903</a><br>And read the description there too: <a rel="nofollow" target="_blank" href="http://js1k.com/2014-dragons/details/1903" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://js1k.com/2014-dragons/details/1903</a><br><br>I&#39;m attending the competition since 2012, and this year I&#39;ve entered 3 submissions.<br>The first one went in the new and experimental WebGL category:<br><a rel="nofollow" target="_blank" href="http://js1k.com/2014-dragons/demo/1776" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://js1k.com/2014-dragons/demo/1776</a><br>It features the pingpong framebuffer boilerplate for all sorts of render-to-texture feedback effects. But even with the most simple sustain and fadeout, plus basic mouse interactivity, i was already at the 1k limit, and I had to throw out the resizing of the viewport to the full available screen size, which also messed up the mapping of the mouse coordinate. It felt good enough to submit at the the time anyway. ;)<br><br>Then i went on extending that basis to a decent 2k entry. In the following 3 days, I&#39;ve first added a complex number multiplication shader function for the &quot;rotozoom&quot; in the affine transformation for the Lindenmayer-type fractals (with a random twist), then i separated the shader program in one that processes a new frame from the old one, and another one that renders a final output to the screen. I&#39;ve used this method a lot since 2007, when in the programmable music visualization plugin Milkdrop2 for Winamp, the &#39;composite&#39; and the &#39;warp&#39; shader steps were introduced. I wrote and talked about that in my FMX2013 session - see here: <a rel="nofollow" target="_blank" href="http://cake23.de/fmx/?full#6" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://cake23.de/fmx/?full#6</a><br>Many of my WebGL experiments adopted this method more or less directly. <br>Even before custom shaders, in Milkdrop1, you could achieve (multi-)texture feedback effects with semi-transparent overlays of textured shapes. That&#39;s how I learned to use the progressive image-based approach to render a certain kind of fractals in the first place, simply by learning by doing out of curiosity. In 2007, I&#39;ve published my first pieces, but I must have had exercised two years quietly already. That was the time when I also worked out the &quot;self-similarity&quot; series too, with a lot of ferns and other stuff like that - check out <a rel="nofollow" target="_blank" href="http://a-musing-discordian.deviantart.com/art/dancing-fern-91541252" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://a-musing-discordian.deviantart.com/art/dancing-fern-91541252</a>, or <a rel="nofollow" target="_blank" href="http://a-musing-discordian.deviantart.com/art/Fire-elemental-91541210" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://a-musing-discordian.deviantart.com/art/Fire-elemental-91541210</a> . The latter one got reused by me over and over again, and some mixes are also readily included in the official Winamp release since version 5.5. I&#39;m speaking about the presets &quot;milkcore&quot; and &quot;fractal seafood&quot;. If you don&#39;t want to fire up Winamp, here&#39;s a youtube recording: <a rel="nofollow" target="_blank" href="https://www.youtube.com/watch?v=4NbY8n66Q9o" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">MGMT - Electric Feel [Milkdrop2.0 Demo]</a><br><br>In Milkdrop, i had also previously found the intricate yet simple shader function for another winged fractal. <br>If you look at the source code either in the current WebGL glsl or in the old Milkdrop hlsl, the formula is remarkable simple. Assume the screen space as the complex number plane with a real and an imaginary axis, one complex division that is scaled down so that it is near zero over most of the screen space with one asymptote at a variable center point, mixed together with the undistorted domain plane, is used as a so-called &quot;plane deformation&quot;. Or if you feel more comfortable with this description: This is used as a partial differential equation, and frame-per-frame line integral convolution step that reads the color from the displaced position in the old frame. Before the division, another multiplication is used to rotate the complex number plane so that the two &quot;wings&quot; become adjustable to the motion direction. All in one well-below-tweet-sized code line. A procedural circle, or rather a cone tip, at the center is added to make the pearl necklace like impression. This is the only point where the &quot;black&quot; is injected to the initially empty scene and slowly but steady it fills up the whole screen. I can date my first use of the function back to 2008 and I&#39;ve remixed it from time to time too. After all, Winamp is still not dead, and so is the forum. You can download the Milkdrop presets here <a rel="nofollow" target="_blank" href="http://forums.winamp.com/showpost.php?p=2483284&amp;postcount=124" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://forums.winamp.com/showpost.php?p=2483284&amp;postcount=124</a> and here <a rel="nofollow" target="_blank" href="http://forums.winamp.com/showpost.php?p=2692728&amp;postcount=183" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://forums.winamp.com/showpost.php?p=2692728&amp;postcount=183</a> <br><br>By the way, with the same method with a formula that contains an even simpler complex square function (^2) instead of the (^-1) polynomial, you can also render Julia fractals: <a rel="nofollow" target="_blank" href="http://cake23.de/progressive-fractal.html" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://cake23.de/progressive-fractal.html</a><br>The trick is to flow with each Bit of the four individual Bytes of the feedback texture&#39;s rgba pixel values. 1 Bit changes per frame can still give a good dynamic performance. I&#39;ve learned to appreciate the power of simple gradients.<br>Thanks to the nature of shaders, it&#39;s pretty easy to wire different types of fractals in the separate rgba channels of the feedback texture, and recolor them in a final composite operation. And in fact, the red and the alpha are still unused in the last version of my 2k WebGL entry &quot;Edgy The Pit Minder&quot;: <a rel="nofollow" target="_blank" href="http://www.cake23.de/EdgyThePitMinder.html" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://www.cake23.de/EdgyThePitMinder.html</a><br>The blue channel is mapped to a red that goes over in white, for the randomly changing L-system fractal. The black winged fractal is actually set up in the green channel. At last, I&#39;ve used a differential edge detection with 4 texture lookups from the one-pixel <a rel="nofollow" target="_blank" href="http://en.wikipedia.org/wiki/Von_Neumann_neighborhood" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://en.wikipedia.org/wiki/Von_Neumann_neighborhood</a> for the enhancements on the gradients of blue and green. Gradients in blue are enhanced by subtracting to black where the green or blue level is low, and adding white where the red level is high. The gradients in green become white only in the absence of blue and in the environment of low-value green. I&#39;ve also used the gradients in green for a subtle refraction and reflection effect. Just look very closely. ;) At last I&#39;ve applied the plane deformation from the warp step to the composite to give everything a really mind-bending touch.<br><br>Only 2k WebGL was just not a legal category! If I had read the rules properly, I must have known that. And when I wanted to submit it, I only got the confused response that it must be rejected.<br><br>I&#39;ve made one or two bad puns about it. And I&#39;ve overheard a comment by an interested fellow at the local hackerspace, which made a little wave on Twitter too: <a rel="nofollow" target="_blank" href="https://twitter.com/Flexi23/status/444776247009505280" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">https://twitter.com/Flexi23/status/444776247009505280</a> ;) Cheers, and honor to whom honor is due, Sascha!<br><br>Then I refocused on how to do it the classic way. I tried a few times to emulate a FrameBufferObject, first with ImageData instances and then even ToDataURL(), which all just not performed well. Finally, I&#39;ve found out that you can directly use canvases as arguments for drawImage calls on a context2d object, and it just runs hardware accelerated and butter smooth. My first shot at a not yet interactive fractal drop with a rock-solid performance already compressed to below 512 Bytes. The rest is not so much spectacular. The control point data values are stored in extended properties of fresh canvas instances in an array of four, and I&#39;ve used a custom meta function for the often reoccurring loop from i=1 to 4. Just read the richly commented source code. ;)<br><br>You can find the history of my progresses here: <a rel="nofollow" target="_blank" href="http://www.cake23.de/hereBeDragons/" class="ot-anchor bidi_isolate" jslog="10929; track:click" dir="ltr">http://www.cake23.de/hereBeDragons/</a><br><br>I really didn&#39;t expect it to go out like that, and I really felt funny too. On the last day, i made another old Milkdrop reference joke, that was hardly to get for anyone who doesn&#39;t follow me for too long, I suspect. Go search for the preset &quot;The early bird&quot; in your Milkdrop preset folder and you know what I might have thought back on that day. ;) I mean, i really had made a version of the flappy wing fractal that was wired to simple differential easing functions, quite similar to how you would do springs physics simulation in a Verlet integration style. But I just didn&#39;t manage to get them in on the last minute. I&#39;ve finished the April&#39;s Fools edition &quot;Le Moustache&quot; 23:59 on 31st March but I had no time left to submit it. :D<br><br>I hope you had as much fun as I had and maybe you could even learn something. ;)<br><br>Also thanks to the generous sponsors! As a tribute, I&#39;m looking forward to buy a Lasershow rig, and build a depth scanner silhouette edge tracer program! ;)</div></div><div class="visibility">Shared with: Public</div><div class="post-activity"><div class="plus-oners">+1'd by: <a href="https://plus.google.com/+TheBlackBoxSL">TheBlack Box</a></div></div></body></html>

<i>This post was originally on Google+</i>